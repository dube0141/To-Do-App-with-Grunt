angular.module("ToDoApp",["ionic"]).run(function(a){a.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0)),window.StatusBar&&StatusBar.styleDefault()})}),angular.module("ToDoApp").controller("listController",function(a,b,c,d){a.page=b.itemID,a.title="List "+a.page,a.list=c.getList(a.page),a.toggleItem=function(b){var e=d.getSettings(),f=e[0].checked,g=e[1].checked;f&&navigator.vibrate(100);var h=c.getList(a.page);if("icon ion-ios-circle-outline"==h[b].icon?h[b].icon="icon ion-ios-checkmark-outline":h[b].icon="icon ion-ios-circle-outline",c.togItem(a.page,h,b),g)for(var i=c.getList(a.page),j=0,k=0;k<i.length;k++)if("icon ion-ios-checkmark-outline"==i[k].icon&&(j++,j==i.length)){var l="";l=h.length<=1?h.length+" item finished. Congratulations!":h.length+" items finished. Congratulations!",cordova.plugins.notification.local.schedule({id:1,title:"List "+a.page+" Completed!",text:l})}a.list[b]=h[b]},a.removeItem=function(b){c.removeItem(a.page,b),a.list=c.getList(a.page)},a.addItem=function(){var b=a.input;if(b){var d={title:b,icon:"icon ion-ios-circle-outline"};c.setItem(a.page,d),a.list=c.getList(a.page),a.input=""}}}).controller("settingsController",function(a,b,c,d){a.settingsList=d.getSettings(),a.updateSettings=function(){d.togSettings(a.settingsList)}}),angular.module("ToDoApp").factory("Items",function(a){return{setItem:function(a,b){var c=[];localStorage.getItem("list"+a)?(c=JSON.parse(localStorage.getItem("list"+a)),c.push(b)):c.push(b);var d=JSON.stringify(c);localStorage.setItem("list"+a,d)},removeItem:function(a,b){var c=JSON.parse(localStorage.getItem("list"+a));return c.splice(b,1),c=JSON.stringify(c),localStorage.setItem("list"+a,c)},togItem:function(a,b,c){return list=JSON.parse(localStorage.getItem("list"+a)),list[c]=b[c],list=JSON.stringify(list),localStorage.setItem("list"+a,list)},getList:function(a){if(localStorage.getItem("list"+a))return JSON.parse(localStorage.getItem("list"+a));var b=[{title:"Apples",icon:"icon ion-ios-circle-outline"}],c=[{title:"Oranges",icon:"icon ion-ios-circle-outline"}],d=[{title:"Bananas",icon:"icon ion-ios-circle-outline"}];return localStorage.setItem("list1",JSON.stringify(b)),localStorage.setItem("list2",JSON.stringify(c)),localStorage.setItem("list3",JSON.stringify(d)),JSON.parse(localStorage.getItem("list"+a))}}}),angular.module("ToDoApp").config(function(a,b){a.state("app",{url:"/app","abstract":!0,templateUrl:"templates/menu.html",controller:"settingsController"}).state("app.list",{url:"/list:itemID",views:{listContent:{templateUrl:"templates/list.html",controller:"listController"}}}),b.otherwise("/app/list1")}),angular.module("ToDoApp").factory("Settings",function(a){return{getSettings:function(){if(localStorage.getItem("settings"))return JSON.parse(localStorage.getItem("settings"));var a=[{text:"Vibrate",checked:!0},{text:"Notifications",checked:!1}];return localStorage.setItem("settings",JSON.stringify(a)),JSON.parse(localStorage.getItem("settings"))},togSettings:function(a){return localStorage.setItem("settings",JSON.stringify(a))}}});